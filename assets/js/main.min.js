!function(){"use strict";const e=e=>document.getElementById(e),t=e=>Number(e).toFixed(2).replace(/\.00$/,"");[{inputs:["p1","a1"],result:"r1",calc:(e,t)=>e/100*t},{inputs:["x2","y2"],result:"r2",calc:(e,t)=>e/t*100},{inputs:["p3","a3"],result:"r3",calc:(e,t)=>t*(1-e/100)},{inputs:["p4","a4"],result:"r4",calc:(e,t)=>t*(1+e/100)},{inputs:["o5","n5"],result:"r5",calc:(e,t)=>Math.abs((t-e)/e*100)},{inputs:["gstRate","gstBase"],result:"gstResult",calc:(e,t)=>e/100*t},{inputs:["discPct","discPrice"],result:"discResult",calc:(e,t)=>t*(1-e/100)},{inputs:["incPct","incVal"],result:"incResult",calc:(e,t)=>t*(1+e/100)},{inputs:["decPct","decVal"],result:"decResult",calc:(e,t)=>t*(1-e/100)},{inputs:["hikePct","hikeSalary"],result:"hikeResult",calc:(e,t)=>t*(1+e/100)},{inputs:["cbPct","cbAmount"],result:"cbResult",calc:(e,t)=>e/100*t},{inputs:["marginSP","marginCP"],result:"marginResult",calc:(e,t)=>(e-t)/e*100},{inputs:["markupSP","markupCP"],result:"markupResult",calc:(e,t)=>(e-t)/t*100},{inputs:["marksObt","marksTotal"],result:"marksResult",calc:(e,t)=>e/t*100},{inputs:["cgpaVal","cgpaMult"],result:"cgpaResult",calc:(e,t)=>e*t}].forEach(n=>{const c=e(n.inputs[0]),s=e(n.inputs[1]),a=e(n.result);if(!c||!s||!a)return;const r=a.dataset.example||"",o=a.dataset.template||"",l=a.classList.contains("inline-result"),i=()=>{const e=c.value,i=s.value;if(l){if(!e&&!i)return a.textContent=r?"e.g. "+r:"",void a.classList.add("example-result");if(!e||!i)return a.textContent="?",void a.classList.add("example-result");const c=t(n.calc(parseFloat(e),parseFloat(i)));return a.textContent=o.replace("{V1}",e).replace("{V2}",i).replace("{R}",c),void a.classList.remove("example-result")}if(!e&&!i)return void(a.innerHTML=r?`<div class="example">${r}</div>`:"");if(!e||!i)return void(a.innerHTML="");const u=t(n.calc(parseFloat(e),parseFloat(i))),p=o.replace("{V1}",e).replace("{V2}",i).replace("{R}",u);a.innerHTML=p};c.oninput=i,s.oninput=i,i()});function n(e){const t=e.querySelector(".nl");return t?t.textContent.trim():""}[{inputs:["emiPrincipal","emiRate","emiTenure"],result:"emiResult",calc:(e,t,n)=>{const c=t/12/100;return e*c*Math.pow(1+c,n)/(Math.pow(1+c,n)-1)}},{inputs:["sipAmount","sipRate","sipYears"],result:"sipResult",calc:(e,t,n)=>{const c=12*n,s=t/12/100;return e*((Math.pow(1+s,c)-1)/s)*(1+s)}}].forEach(t=>{const n=e(t.inputs[0]),c=e(t.inputs[1]),s=e(t.inputs[2]),a=e(t.result);if(!(n&&c&&s&&a))return;const r=a.dataset.example||"",o=a.dataset.template||"",l=()=>{const e=n.value,l=c.value,i=s.value;if(!e&&!l&&!i)return void(a.innerHTML=r?`<div class="example">${r}</div>`:"");if(!e||!l||!i)return void(a.innerHTML="");const u=(p=t.calc(parseFloat(e),parseFloat(l),parseFloat(i)),Number(p).toFixed(2).replace(/\.00$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,","));var p;const d=o.replace("{V1}",e).replace("{V2}",l).replace("{V3}",i).replace("{R}",u);a.innerHTML=d};n.oninput=l,c.oninput=l,s.oninput=l,l()}),document.querySelectorAll(".faq-q").forEach(e=>{e.onclick=()=>e.parentElement.classList.toggle("open")}),document.querySelectorAll(".card .inputs").forEach(e=>{const t=e.closest(".card");if(!t)return;if(!t.querySelector(".result"))return;const n=document.createElement("button");n.className="clear-btn",n.textContent="Clear",n.type="button",n.onclick=()=>{e.querySelectorAll("input").forEach(e=>{e.value="",e.dispatchEvent(new Event("input"))})},e.after(n)}),document.querySelectorAll(".result").forEach(e=>{let t=!1;new MutationObserver(()=>{if(t)return;t=!0;const c=e.querySelector(".result-actions");c&&c.remove();if(!e.querySelector(".nl"))return void(t=!1);const s=document.createElement("div");s.className="result-actions";const a=document.createElement("button");a.className="copy-btn",a.type="button",a.innerHTML="ðŸ“‹ Copy",a.onclick=()=>{const t=n(e);if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(()=>{a.innerHTML="âœ“ Copied!",a.classList.add("copied"),setTimeout(()=>{a.innerHTML="ðŸ“‹ Copy",a.classList.remove("copied")},1500)});else{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),a.innerHTML="âœ“ Copied!",a.classList.add("copied"),setTimeout(()=>{a.innerHTML="ðŸ“‹ Copy",a.classList.remove("copied")},1500)}},s.appendChild(a);const r=document.createElement("button");r.className="share-btn",r.type="button",r.innerHTML="ðŸ’¬ WhatsApp",r.onclick=()=>{const t=n(e),c="https://wa.me/?text="+encodeURIComponent(t+" â€” calculated on percentof.in");window.open(c,"_blank")},s.appendChild(r),e.appendChild(s),t=!1}).observe(e,{childList:!0,subtree:!0})});const c=document.querySelector(".inline-calcs input"),s=document.querySelector(".card .inputs input"),a=c||s;a&&!new URLSearchParams(window.location.search).get("q")&&a.focus();const r={done:!1};function o(){if(r.done)return;r.done=!0;const e=document.createElement("script");e.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5874718379352488",e.async=!0,e.crossOrigin="anonymous",e.onload=()=>{document.querySelectorAll(".adsbygoogle").forEach(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}})},document.head.appendChild(e)}window.addEventListener("scroll",o,{once:!0,passive:!0}),window.addEventListener("touchstart",o,{once:!0,passive:!0}),setTimeout(o,4e3),document.querySelectorAll('input[inputmode="decimal"]').forEach(e=>{e.addEventListener("focus",()=>{e.value=e.value.replace(/,/g,"")}),e.addEventListener("blur",()=>{const t=e.value.replace(/,/g,"");if(t&&!isNaN(t)){const n=t.split(".");n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.value=n.join(".")}})});const l=new URLSearchParams(window.location.search).get("q");if(l){const t=l.match(/(?:what\s+is\s+)?(\d+(?:\.\d+)?)\s*(?:%|percent)\s*(?:of)\s*(\d+(?:\.\d+)?)/i);if(t){const n=e("p1"),c=e("a1");n&&c&&(n.value=t[1],c.value=t[2],n.dispatchEvent(new Event("input")))}}const i="percentof_history";function u(){try{return JSON.parse(localStorage.getItem(i))||[]}catch(e){return[]}}function p(){const e=document.querySelector(".recent-history");if(!e)return;const t=u();if(0===t.length)return void(e.style.display="none");e.style.display="";const n=e.querySelector(".history-list");n&&(n.innerHTML=t.map(e=>`<span class="history-item">${e}</span>`).join(""))}document.querySelectorAll(".inline-result").forEach(e=>{new MutationObserver(()=>{!e.classList.contains("example-result")&&e.textContent&&"?"!==e.textContent&&function(e){if(!e||"?"===e)return;const t=u();if(t[0]===e)return;const n=t.indexOf(e);n>0&&t.splice(n,1),t.unshift(e),t.length>10&&t.pop();try{localStorage.setItem(i,JSON.stringify(t))}catch(e){}p()}(e.textContent.trim())}).observe(e,{childList:!0,characterData:!0,subtree:!0})});const d=document.querySelector(".inline-calcs");if(d){const e=document.createElement("div");e.className="recent-history",e.innerHTML='<div class="history-label">Recent:</div><div class="history-list"></div>',d.after(e),p()}}();